<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vector Addition | AXOMIYA ENGINEER</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⚛</text></svg>">
</head>
<body>
  <div class="bg-grid"></div>
  <nav class="navbar scrolled">
    <div class="nav-container">
      <a href="../index.html" class="nav-logo">
        <div class="logo-icon"><div class="logo-atom"><div class="nucleus"></div><div class="orbit"></div><div class="orbit"></div><div class="orbit"></div></div></div>
        <div class="logo-text"><span class="brand-name">Axomiya Engineer</span><span class="brand-tag">IIT Guwahati &bull; Physics</span></div>
      </a>
      <div class="nav-links">
        <div class="nav-item"><a href="../index.html" class="nav-link">Home</a></div>
        <div class="nav-item"><a href="../simulations.html" class="nav-link active">Simulations</a></div>
        <div class="nav-item"><a href="../chapters.html" class="nav-link">Chapters</a></div>
        <a href="../index.html#contact" class="nav-cta">Contact Me</a>
      </div>
      <button class="nav-toggle" aria-label="Menu"><span></span><span></span><span></span></button>
    </div>
  </nav>

  <div class="sim-page-container">
    <div class="breadcrumb" style="justify-content: flex-start; margin-top: 20px;">
      <a href="../index.html">Home</a><span>/</span><a href="../simulations.html">Simulations</a><span>/</span><span>Kinematics</span>
    </div>
    <h1 style="font-family: var(--font-display); font-size: 1.8rem; margin: 16px 0 8px; letter-spacing: 1px;">&#10132; Vector Addition</h1>
    <p style="color: var(--text-secondary); margin-bottom: 24px;">Grade XI &bull; Kinematics</p>

    <div class="sim-canvas-wrapper">
      <canvas id="simCanvas" width="850" height="450"></canvas>
      <div class="sim-controls">
        <label>Vector A Magnitude: <input type="range" id="magA" min="1" max="10" value="5" step="0.5"> <span id="magAVal">5</span></label>
        <label>Vector A Angle: <input type="range" id="angleA" min="0" max="360" value="30"> <span id="angleAVal">30</span>&deg;</label>
        <label>Vector B Magnitude: <input type="range" id="magB" min="1" max="10" value="4" step="0.5"> <span id="magBVal">4</span></label>
        <label>Vector B Angle: <input type="range" id="angleB" min="0" max="360" value="120"> <span id="angleBVal">120</span>&deg;</label>
      </div>
    </div>

    <div class="sim-info">
      <h2>About This Simulation</h2>
      <p>Visualize vector addition using the parallelogram law. Adjust the magnitude and direction of two vectors to see how their resultant changes. The resultant vector is shown in green, connecting the origin to the opposite corner of the parallelogram.</p>
      <div class="formula-box" style="margin-top: 16px;">
        R = &radic;(A&sup2; + B&sup2; + 2AB cos&theta;) &nbsp;&nbsp;|&nbsp;&nbsp; tan&alpha; = B sin&theta; / (A + B cos&theta;)
      </div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('simCanvas');
    const ctx = canvas.getContext('2d');

    const magASlider = document.getElementById('magA');
    const angleASlider = document.getElementById('angleA');
    const magBSlider = document.getElementById('magB');
    const angleBSlider = document.getElementById('angleB');

    magASlider.oninput = () => { document.getElementById('magAVal').textContent = magASlider.value; draw(); };
    angleASlider.oninput = () => { document.getElementById('angleAVal').textContent = angleASlider.value; draw(); };
    magBSlider.oninput = () => { document.getElementById('magBVal').textContent = magBSlider.value; draw(); };
    angleBSlider.oninput = () => { document.getElementById('angleBVal').textContent = angleBSlider.value; draw(); };

    const originX = 120;
    const originY = canvas.height - 80;
    const scale = 35;

    function drawBackground() {
      ctx.fillStyle = '#080818';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Grid
      ctx.strokeStyle = 'rgba(0,212,255,0.04)';
      ctx.lineWidth = 1;
      for (let x = 0; x < canvas.width; x += 40) {
        ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, canvas.height); ctx.stroke();
      }
      for (let y = 0; y < canvas.height; y += 40) {
        ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(canvas.width, y); ctx.stroke();
      }

      // Axes with tick marks
      ctx.strokeStyle = 'rgba(255,255,255,0.3)';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(40, originY);
      ctx.lineTo(canvas.width - 40, originY);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(originX, 40);
      ctx.lineTo(originX, canvas.height - 40);
      ctx.stroke();

      // Tick marks
      ctx.lineWidth = 1;
      for (let i = 1; i <= 10; i++) {
        ctx.beginPath();
        ctx.moveTo(originX + i * scale, originY - 5);
        ctx.lineTo(originX + i * scale, originY + 5);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(originX - 5, originY - i * scale);
        ctx.lineTo(originX + 5, originY - i * scale);
        ctx.stroke();
      }
    }

    function drawArrow(x1, y1, x2, y2, color, width = 3) {
      const headlen = 12;
      const angle = Math.atan2(y2 - y1, x2 - x1);

      ctx.strokeStyle = color;
      ctx.fillStyle = color;
      ctx.lineWidth = width;
      ctx.beginPath();
      ctx.moveTo(x1, y1);
      ctx.lineTo(x2, y2);
      ctx.stroke();

      ctx.beginPath();
      ctx.moveTo(x2, y2);
      ctx.lineTo(x2 - headlen * Math.cos(angle - Math.PI / 6), y2 - headlen * Math.sin(angle - Math.PI / 6));
      ctx.lineTo(x2 - headlen * Math.cos(angle + Math.PI / 6), y2 - headlen * Math.sin(angle + Math.PI / 6));
      ctx.closePath();
      ctx.fill();
    }

    function draw() {
      drawBackground();

      const magA = parseFloat(magASlider.value);
      const angleA = parseFloat(angleASlider.value);
      const magB = parseFloat(magBSlider.value);
      const angleB = parseFloat(angleBSlider.value);

      const radA = angleA * Math.PI / 180;
      const radB = angleB * Math.PI / 180;

      // Vector A components
      const Ax = magA * Math.cos(radA);
      const Ay = magA * Math.sin(radA);

      // Vector B components
      const Bx = magB * Math.cos(radB);
      const By = magB * Math.sin(radB);

      // Resultant components
      const Rx = Ax + Bx;
      const Ry = Ay + By;
      const magR = Math.sqrt(Rx * Rx + Ry * Ry);
      const angleR = Math.atan2(Ry, Rx) * 180 / Math.PI;

      // Vector A endpoint
      const endAx = originX + Ax * scale;
      const endAy = originY - Ay * scale;

      // Vector B endpoint (from origin)
      const endBx = originX + Bx * scale;
      const endBy = originY - By * scale;

      // Resultant endpoint
      const endRx = originX + Rx * scale;
      const endRy = originY - Ry * scale;

      // Draw parallelogram (dashed lines)
      ctx.setLineDash([5, 5]);
      ctx.strokeStyle = 'rgba(255,255,255,0.2)';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(endAx, endAy);
      ctx.lineTo(endRx, endRy);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(endBx, endBy);
      ctx.lineTo(endRx, endRy);
      ctx.stroke();
      ctx.setLineDash([]);

      // Draw vectors
      drawArrow(originX, originY, endAx, endAy, '#00d4ff', 3);
      drawArrow(originX, originY, endBx, endBy, '#7c3aed', 3);
      drawArrow(originX, originY, endRx, endRy, '#00ffaa', 4);

      // Draw labels
      ctx.font = '14px "JetBrains Mono", monospace';
      ctx.fillStyle = '#00d4ff';
      ctx.fillText('A', endAx + 10, endAy - 10);
      ctx.fillStyle = '#7c3aed';
      ctx.fillText('B', endBx + 10, endBy - 10);
      ctx.fillStyle = '#00ffaa';
      ctx.fillText('R', endRx + 10, endRy - 10);

      // Draw stats panel
      ctx.fillStyle = 'rgba(10,10,30,0.85)';
      ctx.fillRect(canvas.width - 250, 10, 240, 130);
      ctx.strokeStyle = 'rgba(0,212,255,0.2)';
      ctx.strokeRect(canvas.width - 250, 10, 240, 130);

      ctx.font = '12px "JetBrains Mono", monospace';
      ctx.fillStyle = '#00d4ff';
      ctx.fillText(`|A| = ${magA.toFixed(1)}`, canvas.width - 240, 32);
      ctx.fillStyle = '#7c3aed';
      ctx.fillText(`|B| = ${magB.toFixed(1)}`, canvas.width - 240, 52);
      ctx.fillStyle = '#00ffaa';
      ctx.fillText(`|R| = ${magR.toFixed(2)}`, canvas.width - 240, 72);
      ctx.fillText(`Angle = ${angleR >= 0 ? angleR.toFixed(1) : (360 + angleR).toFixed(1)}°`, canvas.width - 240, 92);

      ctx.fillStyle = '#ffffff';
      const thetaDiff = angleB - angleA;
      ctx.fillText(`Angle between A & B:`, canvas.width - 240, 112);
      ctx.fillText(`${thetaDiff >= 0 ? thetaDiff : (360 + thetaDiff)}°`, canvas.width - 240, 128);
    }

    draw();
  </script>
  <script src="../js/main.js"></script>
</body>
</html>
