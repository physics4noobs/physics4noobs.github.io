<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Motion in 2D L2 Sprint 1 | Physics for Noobs</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Jost:wght@300;400;500;600;700&family=Delius&family=Nova+Square&family=Yatra+One&family=Quintessential&family=Cabin+Sketch:wght@400;700&family=Orbitron:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&family=Andika:wght@400;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="manifest" href="../manifest.json">
  <meta name="theme-color" content="#050510">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="../images/icon-192.svg">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#128300;</text></svg>">
  <script src="../js/theme.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
  <script defer src="../js/firebase-config.js"></script>
  <script defer src="../js/auth.js"></script>
  <script defer src="../js/ranking.js"></script>
</head>
<body>
  <!-- Splash Screen -->
  <div class="splash-screen" id="splash"><div class="splash-rocket"><div class="sp-nose"></div><div class="sp-body"></div><div class="sp-window"></div><div class="sp-fin-l"></div><div class="sp-fin-r"></div><div class="sp-flame"></div><div class="sp-glow"></div></div><div class="splash-logo"><span class="brand-initial">P</span>hysics <span class="brand-accent">for Noobs</span></div><div class="splash-tagline">Get It, For Real</div></div>
  <div class="bg-grid"></div>

  <!-- Navigation -->
  <nav class="navbar scrolled">
    <div class="nav-container">
      <a href="../index.html" class="nav-logo" id="nav-logo">
        <div class="logo-icon"><div class="logo-pendulum"><div class="pendulum-pivot"></div><div class="pendulum-arm"><div class="pendulum-string"></div><div class="pendulum-bob"></div></div></div></div>
        <div class="logo-text"><span class="brand-name"><span class="brand-initial">P</span>hysics <span class="brand-accent">for Noobs</span></span><span class="brand-tag">GET IT, FOR REAL</span></div>
      </a>
      <div class="nav-links">
        <div class="nav-item">
          <a href="../index.html" class="nav-link">Home</a>
        </div>
        <div class="nav-item">
          <a href="../about.html" class="nav-link">About Me</a>
        </div>
        <div class="nav-item"><a href="../chapters.html" class="nav-link">Chapters</a></div>        <div class="nav-item">
          <a href="../simulations.html" class="nav-link">Simulations</a>
        </div>
        <div class="nav-item">
          <a href="../tests.html" class="nav-link active">Tests</a>
        </div>
        <div class="nav-item">
          <a href="../flashcards.html" class="nav-link">Flashcards</a>
        </div>
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme"></button>
        <button class="auth-btn" id="auth-login-btn"><svg class="google-icon" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>Sign in</button>
        <a href="progress.html" class="mobile-auth-action" id="mobile-progress-btn" style="display:none;">Progress</a>
        <button class="mobile-auth-action mobile-signout-btn" id="mobile-signout-btn" style="display:none;">Sign Out</button>

        <div class="user-menu nav-item" id="auth-user-menu" style="display:none;"><img class="user-avatar" id="auth-user-avatar" src="" alt="User"><span class="user-rank-badge rank-bronze" id="auth-rank-badge"><span class="rank-icon" id="auth-rank-icon"></span><span id="auth-rank-label"></span></span><div class="dropdown"><div class="dropdown-rank" id="dropdown-rank-display"><span class="rank-tier" id="dropdown-rank-tier"></span><div class="rank-progress-bar"><div class="rank-progress-fill" id="dropdown-rank-fill"></div></div></div><a href="../progress.html"><div class="dd-icon">&#128200;</div> My Progress</a><div class="dropdown-divider"></div><a href="#" id="auth-logout-btn"><div class="dd-icon">&#128682;</div> Sign Out</a></div></div>
      </div>
      <button class="nav-toggle" aria-label="Menu"><span></span><span></span><span></span></button>
    </div>
  </nav>
  <script>
    (function(){
      var s=document.getElementById('splash');
      if(sessionStorage.getItem('ae-splash')){s.style.display='none';}
      else{
        sessionStorage.setItem('ae-splash','1');setTimeout(function(){s.classList.add('fade-out');},2200);setTimeout(function(){s.style.display='none';},2700);
      }
    })();
  </script>

  <!-- Test Content -->
  <div class="test-wrapper">

    <div class="test-header">
      <h1>Motion in 2D Level 2 &mdash; Sprint Test 1</h1>
      <div class="test-meta">Grade XI &bull; 10 Questions &bull; 30 Minutes</div>
    </div>

    <div class="test-bar">
      <span class="timer" id="timer">30:00</span>
      <span class="score" id="score"></span>
      <button class="test-btn" id="submit-btn">Submit Test</button>
    </div>

    <!-- Q1 -->
    <div class="q-card" data-answer="D">
      <div class="q-num">Question 1</div>
      <div class="q-text">A ladder placed on a smooth floor slips. If at a given instant the velocity with which the ladder is slipping on the floor is v<sub>1</sub> and the velocity of that part of ladder which is touching the wall is v<sub>2</sub>, then the velocity of the centre of the ladder at that instant is:</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> v<sub>1</sub></div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> v<sub>2</sub></div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> (v<sub>1</sub> + v<sub>2</sub>)/2</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> &radic;(v<sub>1</sub><sup>2</sup> + v<sub>2</sub><sup>2</sup>)/2</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> The centre of the ladder has a horizontal component of velocity v<sub>1</sub>/2 (from the floor end) and a vertical component of velocity v<sub>2</sub>/2 (from the wall end). The speed of the centre = &radic;((v<sub>1</sub>/2)<sup>2</sup> + (v<sub>2</sub>/2)<sup>2</sup>) = &radic;(v<sub>1</sub><sup>2</sup> + v<sub>2</sub><sup>2</sup>)/2.</div>
    </div>

    <!-- Q2 -->
    <div class="q-card" data-answer="B">
      <div class="q-num">Question 2</div>
      <div class="q-text">At the initial moment three points A, B and C are on a horizontal straight line at equal distances from one another. Point A begins to move vertically upward with constant velocity v and point C vertically downward without any initial velocity at constant acceleration a. Assuming the points begin to move simultaneously, then for all the points to be constantly on one straight line, the point B moves with:</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> acceleration a/2 and initial velocity v/2 both upwards</div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> retardation a/2 and initial velocity v/2 both upwards</div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> zero acceleration and initial velocity v</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> acceleration a/2 and initial velocity v both downwards</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> For A, B, C to remain collinear, B (midpoint) must have displacement equal to the average of A and C displacements. Displacement of A = vt (upward). Displacement of C = &minus;(1/2)at<sup>2</sup> (downward). Average = (vt &minus; (1/2)at<sup>2</sup>)/2 = vt/2 &minus; at<sup>2</sup>/4. So B starts with initial velocity v/2 upwards and has acceleration a/2 downwards, i.e., retardation a/2 with initial velocity v/2 upwards.</div>
    </div>

    <!-- Q3 -->
    <div class="q-card" data-answer="B">
      <div class="q-num">Question 3</div>
      <div class="q-text">For a projectile thrown with a velocity v, the horizontal range is &radic;3V<sup>2</sup>/(2g). The vertical range is V<sup>2</sup>/(8g). The angle which the projectile makes with the horizontal initially is:</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> 15&deg;</div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> 30&deg;</div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> 45&deg;</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> 60&deg;</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> Horizontal range R = V<sup>2</sup>sin2&theta;/g = &radic;3V<sup>2</sup>/(2g), so sin2&theta; = &radic;3/2, giving 2&theta; = 60&deg;, thus &theta; = 30&deg;. Verification: vertical range = V<sup>2</sup>sin<sup>2</sup>&theta;/(2g) = V<sup>2</sup>(1/4)/(2g) = V<sup>2</sup>/(8g). Confirmed.</div>
    </div>

    <!-- Q4 -->
    <div class="q-card" data-answer="D">
      <div class="q-num">Question 4</div>
      <div class="q-text">A projectile of mass 2 kg has velocities 3 m/s and 4 m/s at two points during its flight in the uniform gravitational field of the earth. If these two velocities are perpendicular to each other, then the minimum kinetic energy of the particle during its flight is:</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> 6.32 J</div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> 8.40 J</div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> 16.32 J</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> 5.76 J</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> The horizontal component of velocity is constant throughout. Let the two perpendicular velocities be v<sub>1</sub> = 3 m/s and v<sub>2</sub> = 4 m/s. Since they are perpendicular: v<sub>x</sub><sup>2</sup> = v<sub>1</sub>v<sub>2</sub>cos&theta; relation gives v<sub>x</sub> = v<sub>1</sub>v<sub>2</sub>/&radic;(v<sub>1</sub><sup>2</sup> + v<sub>2</sub><sup>2</sup>) = 12/5 = 2.4 m/s. Minimum KE = (1/2)mv<sub>x</sub><sup>2</sup> = (1/2) &times; 2 &times; (2.4)<sup>2</sup> = 5.76 J.</div>
    </div>

    <!-- Q5 -->
    <div class="q-card" data-answer="A">
      <div class="q-num">Question 5</div>
      <div class="q-text"><em>Paragraph: The equation of motion of a projectile is y = ax &minus; bx<sup>2</sup>, where a and b are constants.</em><br><br>The horizontal range of the projectile is:</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> a/b</div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> &radic;a/(2b)</div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> a<sup>2</sup>/(2b)</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> a<sup>2</sup>/(4b)</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> The trajectory is y = ax &minus; bx<sup>2</sup>. At landing, y = 0: x(a &minus; bx) = 0. So x = 0 (launch) or x = a/b (landing). Horizontal range R = a/b.</div>
    </div>

    <!-- Q6 -->
    <div class="q-card" data-answer="D">
      <div class="q-num">Question 6</div>
      <div class="q-text"><em>Paragraph: The equation of motion of a projectile is y = ax &minus; bx<sup>2</sup>, where a and b are constants.</em><br><br>The greatest height attained by the projectile is:</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> a/b</div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> &radic;a/(2b)</div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> a<sup>2</sup>/(2b)</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> a<sup>2</sup>/(4b)</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> Maximum height is at dy/dx = 0: a &minus; 2bx = 0, so x = a/(2b). Substituting: y<sub>max</sub> = a&middot;(a/2b) &minus; b&middot;(a/2b)<sup>2</sup> = a<sup>2</sup>/(2b) &minus; a<sup>2</sup>/(4b) = a<sup>2</sup>/(4b).</div>
    </div>

    <!-- Q7 -->
    <div class="q-card" data-answer="A">
      <div class="q-num">Question 7</div>
      <div class="q-text"><em>Paragraph: The equation of motion of a projectile is y = ax &minus; bx<sup>2</sup>, where a and b are constants.</em><br><br>The time of flight of the projectile is:</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> a&radic;(2/bg)</div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> a/&radic;(bg)</div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> &radic;(2a/bg)</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> &radic;(a/2bg)</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> Comparing y = ax &minus; bx<sup>2</sup> with standard form y = x&middot;tan&theta; &minus; (g/(2u<sup>2</sup>cos<sup>2</sup>&theta;))x<sup>2</sup>: we get tan&theta; = a and b = g/(2u<sup>2</sup>cos<sup>2</sup>&theta;). Time of flight T = 2u&middot;sin&theta;/g = 2u&middot;tan&theta;&middot;cos&theta;/g. From b: u<sup>2</sup>cos<sup>2</sup>&theta; = g/(2b). So u&middot;cos&theta; = &radic;(g/(2b)). Then T = 2a&middot;cos&theta;/(g/u) = 2tan&theta;/g &times; u&middot;cos&theta; = 2a/g &times; &radic;(g/(2b)) = a&radic;(2/bg).</div>
    </div>

    <!-- Q8 -->
    <div class="q-card" data-answer="C">
      <div class="q-num">Question 8</div>
      <div class="q-text">The height y and the distance x along the horizontal plane of a projectile on a certain planet (with no surrounding atmosphere) are given by y = (5t &minus; 8t<sup>2</sup>) metre and x = 12t metre, where t is the time in second. The velocity with which the projectile is projected is:</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> 5 m/s</div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> 12 m/s</div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> 13 m/s</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> Not obtainable from the data</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> At t = 0, the initial horizontal velocity u<sub>x</sub> = dx/dt = 12 m/s and the initial vertical velocity u<sub>y</sub> = dy/dt|<sub>t=0</sub> = 5 m/s. The initial speed = &radic;(u<sub>x</sub><sup>2</sup> + u<sub>y</sub><sup>2</sup>) = &radic;(144 + 25) = &radic;169 = 13 m/s.</div>
    </div>

    <!-- Q9 -->
    <div class="q-card" data-answer="D">
      <div class="q-num">Question 9</div>
      <div class="q-text">A projectile moves from the ground such that its horizontal displacement is x = Kt and vertical displacement is y = Kt(1 &minus; &alpha;t), where K and &alpha; are constants and t is time. Find out total time of flight (T) and maximum height attained (Y<sub>max</sub>).</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> T = &alpha;, Y<sub>max</sub> = K/(2&alpha;)</div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> T = 1/&alpha;, Y<sub>max</sub> = 2K/&alpha;</div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> T = 1/&alpha;, Y<sub>max</sub> = K/(6&alpha;)</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> T = 1/&alpha;, Y<sub>max</sub> = K/(4&alpha;)</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> For total time of flight, y = 0: Kt(1 &minus; &alpha;t) = 0, giving t = 0 or t = 1/&alpha;. So T = 1/&alpha;. Maximum height is at t = T/2 = 1/(2&alpha;): Y<sub>max</sub> = K&middot;(1/2&alpha;)(1 &minus; &alpha;&middot;1/(2&alpha;)) = K/(2&alpha;)&middot;(1 &minus; 1/2) = K/(2&alpha;)&middot;(1/2) = K/(4&alpha;).</div>
    </div>

    <!-- Q10 -->
    <div class="q-card" data-answer="B">
      <div class="q-num">Question 10</div>
      <div class="q-text">A rifle shoots a bullet with a muzzle velocity of 400 m/s at a small target 400 m away. The height above the target at which the bullet must be aimed to hit the target is: (g = 10 ms<sup>&minus;2</sup>)</div>
      <div class="q-options">
        <div class="q-opt" data-key="A"><span class="opt-letter">A.</span> 1 m</div>
        <div class="q-opt" data-key="B"><span class="opt-letter">B.</span> 5 m</div>
        <div class="q-opt" data-key="C"><span class="opt-letter">C.</span> 10 m</div>
        <div class="q-opt" data-key="D"><span class="opt-letter">D.</span> 0.5 m</div>
      </div>
      <div class="q-solution"><strong>Solution:</strong> Time for bullet to reach target: t = x/u = 400/400 = 1 s. Vertical drop due to gravity: h = (1/2)gt<sup>2</sup> = (1/2) &times; 10 &times; 1<sup>2</sup> = 5 m. The bullet must be aimed 5 m above the target to compensate for this drop.</div>
    </div>

  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-grid">
      <div class="footer-brand">
        <a href="../index.html" class="nav-logo" style="margin-bottom: 16px;">
          <div class="logo-icon"><div class="logo-pendulum"><div class="pendulum-pivot"></div><div class="pendulum-arm"><div class="pendulum-string"></div><div class="pendulum-bob"></div></div></div></div>
          <div class="logo-text"><span class="brand-name"><span class="brand-initial">P</span>hysics <span class="brand-accent">for Noobs</span></span><span class="brand-tag">GET IT, FOR REAL</span></div>
        </a>
        <p>Transforming physics education through interactive simulations and crystal-clear concepts.</p>
      </div>
      <div class="footer-col"><h4>Resources</h4><a href="../chapters.html">Chapters</a></div>
      <div class="footer-col"><h4>Contact</h4><a href="tel:+917896878299">+91 78968 78299</a><a href="mailto:im666d@gmail.com">im666d@gmail.com</a></div>
      <div class="footer-col"><h4>Navigate</h4><a href="../index.html">Home</a><a href="../about.html">About</a></div>
    </div>
    <div class="footer-bottom">
      <span>&copy; 2025 Physics for Noobs. All rights reserved.</span>
      <span>Built with &#9889; for Physics lovers</span>
    </div>
  </footer>

  <script src="../js/main.js"></script>

  <script>
  (function() {
    var testKey = 'sprint_' + location.pathname;
    var session = JSON.parse(sessionStorage.getItem(testKey) || '{}');
    var timerEl = document.getElementById('timer');
    var submitted = false;

    // --- Initialize or restore session ---
    if (!session.startTime) {
      session.startTime = Date.now();
      session.answers = {};
      sessionStorage.setItem(testKey, JSON.stringify(session));
    }

    // --- Restore selected answers ---
    var cards = document.querySelectorAll('.q-card');
    if (session.answers) {
      Object.keys(session.answers).forEach(function(idx) {
        var card = cards[parseInt(idx)];
        if (!card) return;
        var key = session.answers[idx];
        var opt = card.querySelector('.q-opt[data-key="' + key + '"]');
        if (opt) opt.classList.add('selected');
      });
    }

    // --- Timer: calculate remaining from startTime ---
    var elapsed = Math.floor((Date.now() - session.startTime) / 1000);
    var totalSeconds = Math.max(0, 30 * 60 - elapsed);

    function updateTimerDisplay() {
      var m = Math.floor(totalSeconds / 60);
      var s = totalSeconds % 60;
      timerEl.textContent = (m < 10 ? '0' : '') + m + ':' + (s < 10 ? '0' : '') + s;
    }
    updateTimerDisplay();

    // --- Auto-submit if already submitted or time expired ---
    if (session.submitted || totalSeconds <= 0) {
      submitTest();
    }

    var timerInterval = setInterval(function() {
      if (submitted) return;
      totalSeconds--;
      if (totalSeconds <= 0) {
        totalSeconds = 0;
        clearInterval(timerInterval);
        submitTest();
      }
      updateTimerDisplay();
    }, 1000);

    // --- Option selection ---
    var allOptions = document.querySelectorAll('.q-opt');
    allOptions.forEach(function(opt) {
      opt.addEventListener('click', function() {
        if (submitted) return;
        var siblings = this.parentElement.querySelectorAll('.q-opt');
        siblings.forEach(function(sib) { sib.classList.remove('selected'); });
        this.classList.add('selected');

        // Save answer to session
        var card = this.closest('.q-card');
        var cardIdx = Array.prototype.indexOf.call(cards, card);
        session.answers[cardIdx] = this.getAttribute('data-key');
        sessionStorage.setItem(testKey, JSON.stringify(session));
      });
    });

    // --- Submit test ---
    function submitTest() {
      if (submitted) return;
      submitted = true;
      clearInterval(timerInterval);

      // Mark submitted in session
      session.submitted = true;
      sessionStorage.setItem(testKey, JSON.stringify(session));

      var total = cards.length;
      var correct = 0;

      cards.forEach(function(card) {
        var correctKey = card.getAttribute('data-answer');
        var selected = card.querySelector('.q-opt.selected');
        card.classList.add('answered');

        var opts = card.querySelectorAll('.q-opt');
        opts.forEach(function(o) {
          if (o.getAttribute('data-key') === correctKey) {
            o.classList.add('correct');
          }
        });

        if (selected) {
          var selectedKey = selected.getAttribute('data-key');
          if (selectedKey === correctKey) {
            correct++;
          } else {
            selected.classList.add('wrong');
          }
        }

        opts.forEach(function(o) {
          o.style.cursor = 'default';
        });
      });

      var scoreEl = document.getElementById('score');
      scoreEl.textContent = 'Score: ' + correct + ' / ' + total;

      var btn = document.getElementById('submit-btn');
      btn.textContent = 'Submitted';
      btn.style.cursor = 'default';
      btn.disabled = true;

      // Add Retake button with 1-hour cooldown
      var retakeKey = 'retake_' + location.pathname;
      var submitTime = parseInt(localStorage.getItem(retakeKey)) || Date.now();
      localStorage.setItem(retakeKey, submitTime);

      var retakeBtn = document.createElement('button');
      retakeBtn.className = 'test-btn';
      retakeBtn.style.marginLeft = '12px';
      btn.parentElement.appendChild(retakeBtn);

      function updateRetakeBtn() {
        var wait = 3600 - Math.floor((Date.now() - submitTime) / 1000);
        if (wait <= 0) {
          retakeBtn.textContent = 'Retake Test';
          retakeBtn.disabled = false;
          retakeBtn.style.cursor = 'pointer';
          retakeBtn.style.opacity = '1';
        } else {
          var mm = Math.floor(wait / 60);
          var ss = wait % 60;
          retakeBtn.textContent = 'Retake in ' + mm + ':' + (ss < 10 ? '0' : '') + ss;
          retakeBtn.disabled = true;
          retakeBtn.style.cursor = 'default';
          retakeBtn.style.opacity = '0.5';
          setTimeout(updateRetakeBtn, 1000);
        }
      }
      updateRetakeBtn();

      retakeBtn.addEventListener('click', function() {
        if (retakeBtn.disabled) return;
        sessionStorage.removeItem(testKey);
        localStorage.removeItem(retakeKey);
        location.reload();
      });
    }

    document.getElementById('submit-btn').addEventListener('click', function() {
      if (!submitted) {
        submitTest();
      }
    });
  })();
  </script>

<script src="../js/pwa-install.js"></script>
<script>if("serviceWorker" in navigator){navigator.serviceWorker.register("/sw.js");}</script>
</body>
</html>
